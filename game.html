<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Scene</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

<div id="rotate-overlay"><p>Rotate to landscape.</p></div>

<div id="game-container">

    <img id="character-sprite" src="assets/images/characters/Nathan/Nathan-neutral.png">

    <div id="textbox">
        <div id="speaker">Narrator</div>
        <div id="text" class="font-narrative">Loading...</div>
    </div>

    <div id="choices"></div>

</div>

<script>
const character = document.getElementById("character-sprite");
const speaker = document.getElementById("speaker");
const text = document.getElementById("text");
const choices = document.getElementById("choices");

function setFont(f) { text.className = f; }
function setSprite(name, emotion) {
    character.src = `assets/images/characters/${name}/${emotion}.png`;
}

/* Demo scene */
function scene1() {
    speaker.textContent = "Nathan";
    setFont("font-friendly");
    setSprite("Nathan", "Nathan-smile");

    text.textContent = `Sooo… ${window.playerName}, how does it feel being here?`;

    choices.innerHTML = `
        <div class='choice-btn' onclick='scene2()'>Excited!</div>
        <div class='choice-btn' onclick='scene3()'>Nervous…</div>
        <div class='choice-btn' onclick='scene4()'>I already hate it here.</div>
    `;
}

function scene2() {
    text.textContent = "That's awesome! I love your energy.";
    choices.innerHTML = `<div class='choice-btn' onclick='scene5()'>Continue</div>`;
}

function scene3() {
    setSprite("Nathan", "Nathan-neutral");
    text.textContent = "You’ll be fine. I promise.";
    choices.innerHTML = `<div class='choice-btn' onclick='scene5()'>Continue</div>`;
}

function scene4() {
    setSprite("Nathan", "Nathan-sad");
    text.textContent = "O-oh… I hope you'll warm up to it.";
    choices.innerHTML = `<div class='choice-btn' onclick='scene5()'>Continue</div>`;
}

function scene5() {
    /* Slightly creepy moment */
    speaker.textContent = "???";
    setFont("font-glitch");
    setSprite("Nathan", "Nathan-neutral");

    text.textContent = "Do you remember why you're really here?";

    choices.innerHTML = `
        <div class='choice-btn' onclick='scene6()'>What?</div>
    `;
}

function scene6() {
    speaker.textContent = "Narrator";
    setFont("font-narrative");
    text.textContent = "A strange silence fills the hallway.";
    choices.innerHTML = "";
}

scene1();
</script>

</body>
  </html>
